<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>FBTestSession Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 789)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">Facebook-iOS-SDK 3.2.0 </a></h1>
				<a id="developerHome" href="../index.html">Facebook</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">FBTestSession Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/appAccessToken">&nbsp;&nbsp;&nbsp;&nbsp;appAccessToken</option>
	
	<option value="//api/name/forceAccessTokenRefresh">&nbsp;&nbsp;&nbsp;&nbsp;forceAccessTokenRefresh</option>
	
	<option value="//api/name/testAppID">&nbsp;&nbsp;&nbsp;&nbsp;testAppID</option>
	
	<option value="//api/name/testAppSecret">&nbsp;&nbsp;&nbsp;&nbsp;testAppSecret</option>
	
	<option value="//api/name/testUserID">&nbsp;&nbsp;&nbsp;&nbsp;testUserID</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/sessionWithPrivateUserWithPermissions:">&nbsp;&nbsp;&nbsp;&nbsp;+ sessionWithPrivateUserWithPermissions:</option>
	
	<option value="//api/name/sessionWithSharedUserWithPermissions:">&nbsp;&nbsp;&nbsp;&nbsp;+ sessionWithSharedUserWithPermissions:</option>
	
	<option value="//api/name/sessionWithSharedUserWithPermissions:uniqueUserTag:">&nbsp;&nbsp;&nbsp;&nbsp;+ sessionWithSharedUserWithPermissions:uniqueUserTag:</option>
	
	
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Internal Methods">Internal Methods</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/appAccessToken">appAccessToken</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/forceAccessTokenRefresh">forceAccessTokenRefresh</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/testAppID">testAppID</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/testAppSecret">testAppSecret</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/testUserID">testUserID</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sessionWithPrivateUserWithPermissions:">sessionWithPrivateUserWithPermissions:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sessionWithSharedUserWithPermissions:">sessionWithSharedUserWithPermissions:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sessionWithSharedUserWithPermissions:uniqueUserTag:">sessionWithSharedUserWithPermissions:uniqueUserTag:</a></span></li>
	
</ul></li>




			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="FBTestSession Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">FBTestSession Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value"><a href="../Classes/FBSession.html">FBSession</a> : NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">FBTestSession.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>@class FBTestSession</p>

<p>@abstract
Implements an FBSession subclass that knows about test users for a particular
application. This should never be used from a real application, but may be useful
for writing unit tests, etc.</p>

<p>@discussion
Facebook allows developers to create test accounts for testing their applications'
Facebook integration (see <a href="https://developers.facebook.com/docs/test">https://developers.facebook.com/docs/test</a>_users/). This class
simplifies use of these accounts for writing unit tests. It is not designed for use in
production application code.</p>

<p>The main use case for this class is using sessionForUnitTestingWithPermissions:mode:
to create a session for a test user. Two modes are supported. In &ldquo;shared&rdquo; mode, an attempt
is made to find an existing test user that has the required permissions and, if it is not
currently in use by another FBTestSession, just use that user. If no such user is available,
a new one is created with the required permissions. In &ldquo;private&rdquo; mode, designed for
scenarios which require a new user in a known clean state, a new test user will always be
created, and it will be automatically deleted when the FBTestSession is closed.</p>

<p>Note that the shared test user functionality depends on a naming convention for the test users.
It is important that any testing of functionality which will mutate the permissions for a
test user NOT use a shared test user, or this scheme will break down. If a shared test user
seems to be in an invalid state, it can be deleted manually via the Web interface at
<a href="https://developers.facebook.com/apps/APP">https://developers.facebook.com/apps/APP</a>_ID/permissions?role=test+users.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/appAccessToken">&nbsp;&nbsp;appAccessToken</a></code>
		<span class="tooltip"><p>The app access token (composed of app ID and secret) to use for accessing test users.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/testUserID">&nbsp;&nbsp;testUserID</a></code>
		<span class="tooltip"><p>The ID of the test user associated with this session.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/testAppID">&nbsp;&nbsp;testAppID</a></code>
		<span class="tooltip"><p>The App ID of the test app as configured in the plist.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/testAppSecret">&nbsp;&nbsp;testAppSecret</a></code>
		<span class="tooltip"><p>The App Secret of the test app as configured in the plist.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sessionWithSharedUserWithPermissions:">+&nbsp;sessionWithSharedUserWithPermissions:</a></code>
		<span class="tooltip"><p>@abstract
Constructor helper to create a session for use in unit tests</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sessionWithSharedUserWithPermissions:uniqueUserTag:">+&nbsp;sessionWithSharedUserWithPermissions:uniqueUserTag:</a></code>
		<span class="tooltip"><p>@abstract
Constructor helper to create a session for use in unit tests</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sessionWithPrivateUserWithPermissions:">+&nbsp;sessionWithPrivateUserWithPermissions:</a></code>
		<span class="tooltip"><p>@abstract
Constructor helper to create a session for use in unit tests</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Internal Methods" name="task_Internal Methods"></a>
						<h3 class="subsubtitle task-title">Internal Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/forceAccessTokenRefresh">&nbsp;&nbsp;forceAccessTokenRefresh</a></code>
		
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/appAccessToken" title="appAccessToken"></a>
	<h3 class="subsubtitle method-title">appAccessToken</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The app access token (composed of app ID and secret) to use for accessing test users.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly, copy) NSString *appAccessToken</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The app access token (composed of app ID and secret) to use for accessing test users.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">FBTestSession.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/forceAccessTokenRefresh" title="forceAccessTokenRefresh"></a>
	<h3 class="subsubtitle method-title">forceAccessTokenRefresh</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite) BOOL forceAccessTokenRefresh</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/testAppID" title="testAppID"></a>
	<h3 class="subsubtitle method-title">testAppID</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The App ID of the test app as configured in the plist.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly, copy) NSString *testAppID</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The App ID of the test app as configured in the plist.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">FBTestSession.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/testAppSecret" title="testAppSecret"></a>
	<h3 class="subsubtitle method-title">testAppSecret</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The App Secret of the test app as configured in the plist.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly, copy) NSString *testAppSecret</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The App Secret of the test app as configured in the plist.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">FBTestSession.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/testUserID" title="testUserID"></a>
	<h3 class="subsubtitle method-title">testUserID</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The ID of the test user associated with this session.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly, copy) NSString *testUserID</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The ID of the test user associated with this session.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">FBTestSession.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/sessionWithPrivateUserWithPermissions:" title="sessionWithPrivateUserWithPermissions:"></a>
	<h3 class="subsubtitle method-title">sessionWithPrivateUserWithPermissions:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>@abstract
Constructor helper to create a session for use in unit tests</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (id)sessionWithPrivateUserWithPermissions:(NSArray *)<em>permissions</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>permissions</em></dt>
			<dd><p>array of strings naming permissions to authorize; nil indicates
a common default set of permissions should be used for unit testing</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>@abstract
Constructor helper to create a session for use in unit tests</p>

<p>@discussion
This method creates a session object which creates a test user on open, and destroys the user on
close; This method should not be used in application code &mdash; but is useful for creating unit tests
that use the <a href="../Classes/Facebook.html">Facebook</a> SDK.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">FBTestSession.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sessionWithSharedUserWithPermissions:" title="sessionWithSharedUserWithPermissions:"></a>
	<h3 class="subsubtitle method-title">sessionWithSharedUserWithPermissions:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>@abstract
Constructor helper to create a session for use in unit tests</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (id)sessionWithSharedUserWithPermissions:(NSArray *)<em>permissions</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>permissions</em></dt>
			<dd><p>array of strings naming permissions to authorize; nil indicates
a common default set of permissions should be used for unit testing</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>@abstract
Constructor helper to create a session for use in unit tests</p>

<p>@discussion
This method creates a session object which uses a shared test user with the right permissions,
creating one if necessary on open (but not deleting it on close, so it can be re-used in later
tests). Calling this method multiple times may return sessions with the same user. If this is not
desired, use the variant <a href="#//api/name/sessionWithSharedUserWithPermissions:uniqueUserTag:">sessionWithSharedUserWithPermissions:uniqueUserTag:</a>.</p>

<p>This method should not be used in application code &mdash; but is useful for creating unit tests
that use the <a href="../Classes/Facebook.html">Facebook</a> SDK.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">FBTestSession.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sessionWithSharedUserWithPermissions:uniqueUserTag:" title="sessionWithSharedUserWithPermissions:uniqueUserTag:"></a>
	<h3 class="subsubtitle method-title">sessionWithSharedUserWithPermissions:uniqueUserTag:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>@abstract
Constructor helper to create a session for use in unit tests</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (id)sessionWithSharedUserWithPermissions:(NSArray *)<em>permissions</em> uniqueUserTag:(NSString *)<em>uniqueUserTag</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>permissions</em></dt>
			<dd><p>array of strings naming permissions to authorize; nil indicates
a common default set of permissions should be used for unit testing</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>uniqueUserTag</em></dt>
			<dd><p>a string which will be used to make this user unique among other
users with the same permissions. Useful for tests which require two or more users to interact
with each other, and which therefore must have sessions associated with different users. For
this case, consider using kSecondTestUserTag and kThirdTestUserTag so these users can be shared
with other, similar, tests.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>@abstract
Constructor helper to create a session for use in unit tests</p>

<p>@discussion
This method creates a session object which uses a shared test user with the right permissions,
creating one if necessary on open (but not deleting it on close, so it can be re-used in later
tests).</p>

<p>This method should not be used in application code &mdash; but is useful for creating unit tests
that use the <a href="../Classes/Facebook.html">Facebook</a> SDK.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">FBTestSession.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 Facebook. All rights reserved. (Last updated: 2013-03-14)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 789)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>